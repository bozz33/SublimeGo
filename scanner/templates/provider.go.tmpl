// Code generated by SublimeGo Scanner. DO NOT EDIT.
// Generated at: {{.Timestamp}}
// Resources found: {{.Count}}
// Pages found: {{.PageCount}}
// Generation time: {{.Generated.Format "2006-01-02 15:04:05"}}

package registry

import (
{{range .Imports}}
	{{if .NeedsAlias}}{{.Alias}} {{end}}"{{.Path}}"
{{end}}
{{range .PageImports}}
	{{if .NeedsAlias}}{{.Alias}} {{end}}"{{.Path}}"
{{end}}
	"github.com/bozz33/SublimeGo/pkg/engine"
)

{{if .Warnings}}
// ⚠️  WARNINGS:
{{range .Warnings}}
//     {{.}}
{{end}}
{{end}}

{{if .Conflicts}}
// ⚠️  CONFLICTS DETECTED:
{{range .Conflicts}}
//     {{.Type}}: {{.Message}}
//     Suggestion: {{.Suggestion}}
//     Auto-fix: {{if .AutoFix}}Available{{else}}Not available{{end}}
{{end}}
{{end}}

// AllResources contains all discovered resources.
// This slice is automatically generated by the SublimeGo scanner.
var AllResources = []engine.Resource{
{{range .Resources}}
	&{{.Reference}}{}, // {{.Source}}{{if .Conflict}} (conflict resolved with alias){{end}}
{{end}}
}

// AllPages contains all discovered custom pages.
// This slice is automatically generated by the SublimeGo scanner.
var AllPages = []engine.Page{
{{range .Pages}}
	{{.Reference}}(), // {{.Source}}{{if .Conflict}} (conflict resolved with alias){{end}}
{{end}}
}

// PageCount returns the number of registered pages.
func PageCount() int {
	return {{.PageCount}}
}

// GetPageBySlug returns a page by its slug.
func GetPageBySlug(slug string) (engine.Page, bool) {
	for _, page := range AllPages {
		if page.Slug() == slug {
			return page, true
		}
	}
	return nil, false
}

// HasPage checks if a page with the given slug exists.
func HasPage(slug string) bool {
	_, exists := GetPageBySlug(slug)
	return exists
}

// GetAllPageSlugs returns all page slugs.
func GetAllPageSlugs() []string {
	slugs := make([]string, 0, len(AllPages))
	for _, page := range AllPages {
		slugs = append(slugs, page.Slug())
	}
	return slugs
}

// PageInfo contains metadata about a page.
type PageInfo struct {
	Slug  string
	Label string
	Icon  string
	Group string
}

// GetPageInfo returns metadata for all pages.
func GetPageInfo() []PageInfo {
	info := make([]PageInfo, 0, len(AllPages))
	for _, page := range AllPages {
		info = append(info, PageInfo{
			Slug:  page.Slug(),
			Label: page.Label(),
			Icon:  page.Icon(),
			Group: page.Group(),
		})
	}
	return info
}

// ResourceCount returns the number of registered resources.
func ResourceCount() int {
	return {{.Count}}
}

// GetResourceBySlug returns a resource by its slug.
// This function provides a convenient way to access resources.
func GetResourceBySlug(slug string) (engine.Resource, bool) {
	for _, resource := range AllResources {
		if resource.Slug() == slug {
			return resource, true
		}
	}
	return nil, false
}

// HasResource checks if a resource with the given slug exists.
func HasResource(slug string) bool {
	_, exists := GetResourceBySlug(slug)
	return exists
}

// GetAllSlugs returns all resource slugs.
func GetAllSlugs() []string {
	slugs := make([]string, 0, len(AllResources))
	for _, resource := range AllResources {
		slugs = append(slugs, resource.Slug())
	}
	return slugs
}

// ResourceInfo contains metadata about a resource.
type ResourceInfo struct {
	Slug        string
	Label       string
	PluralLabel string
	Icon        string
}

// GetResourceInfo returns metadata for all resources.
func GetResourceInfo() []ResourceInfo {
	info := make([]ResourceInfo, 0, len(AllResources))
	for _, resource := range AllResources {
		info = append(info, ResourceInfo{
			Slug:        resource.Slug(),
			Label:       resource.Label(),
			PluralLabel: resource.PluralLabel(),
			Icon:        resource.Icon(),
		})
	}
	return info
}

{{if .Conflicts}}
// ConflictInfo contains information about detected conflicts.
type ConflictInfo struct {
	Type       string
	Severity   string
	Message    string
	Suggestion string
	AutoFix    bool
}

// GetConflicts returns all detected conflicts.
func GetConflicts() []ConflictInfo {
	return []ConflictInfo{
{{range .Conflicts}}
		{
			Type:       "{{.Type}}",
			Severity:   "{{.Severity}}",
			Message:    "{{.Message}}",
			Suggestion: "{{.Suggestion}}",
			AutoFix:    {{.AutoFix}},
		},
{{end}}
	}
}
{{end}}

// RegistryStats contains statistics about the registry.
type RegistryStats struct {
	TotalResources int
	TotalPages     int
	TotalConflicts int
	TotalWarnings  int
	GeneratedAt    string
}

// GetStats returns registry statistics.
func GetStats() RegistryStats {
	return RegistryStats{
		TotalResources: {{.Count}},
		TotalPages:     {{.PageCount}},
		TotalConflicts: {{len .Conflicts}},
		TotalWarnings:  {{len .Warnings}},
		GeneratedAt:    "{{.Generated.Format "2006-01-02 15:04:05"}}",
	}
}
